var index=function(t){var e={};function a(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,a),i.l=!0,i.exports}return a.m=t,a.c=e,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=0)}([function(t,e){!async function(){async function t(t){const e=t+"List";if(window.localStorage.getItem("listName"))return JSON.parse(window.localStorage.getItem("listName"));const a=await h(`${p}?category=${t}&criteria=most_viewed&order=newest`);return window.localStorage.setItem(e,JSON.stringify(a)),a}function e(t,e){return e.find(e=>e.ID===t)}const a=document.getElementById("modal"),n=a.querySelector("h1"),i=a.querySelector("img"),s=a.querySelector("p.modal-content-author"),r=a.querySelector("p.modal-content-language"),o=a.querySelector("p.modal-content-publisher"),c=a.querySelector("p.modal-content-publisher_date"),l=a.querySelector("p.modal-content-description"),d=document.getElementById("overlay");document.getElementById("hide-modal").addEventListener("click",(function(){d.classList.remove("active"),a.style.animation="modalOut .8s forwards"}));let u=[];const m=a.querySelector("button.secundary");function y(t){const y=t.dataset.id,g=e(t.dataset.id,u);m.textContent=g?"Eliminar de favoritos":"Agregar a favoritos",a.style.animation="modalIn .6s forwards",d.classList.add("active");const v=t.dataset.category,f=function(t,a){return e(t,b)}(y);a.setAttribute("data-id",y),a.setAttribute("data-category",v),n.textContent=f.title,i.setAttribute("src",f.cover),s.textContent=f.author,r.textContent=f.language,o.textContent=f.publisher,c.textContent=f.publisher_date,l.textContent=f.content_short}function g(t){t.querySelector("div.bookInformation").classList.add("is-active");t.dataset.id,t.dataset.category;!function(t,e){t.addEventListener("click",()=>{y(e)})}(t.querySelector("button.bookInformation-btn"),t)}function v(t,e,a){e.children[0].remove();document.querySelector("#home-primary-tags").innerHTML=`<div class="home-primary-tags" id="home-primary-tags">\n                                    <h2> ${a} </h2>\n                                  </div>\n                                  `,t.forEach(t=>{const n=function(t,e){return`\n      <div class="primaryPlaylist-book" id="primaryPlaylist" data-id=${t.ID} data-category=${e}>\n        <img class="imgList fadeIn" src=${t.cover} width="60" height="60" alt="${t.title}"></img>\n        <div class="bookInformation" id="bookInformation">\n          <p>Autor:  ${t.author}</p>\n          <p>Fecha:  ${t.publisher_date}</p>\n          <p>Páginas:  ${t.pages}</p>\n          <p>Idioma:  ${t.language}</p>\n          <p>Editor:  ${t.publisher}</p>\n          <button class="bookInformation-btn secundary">Read More</button>\n        </div>\n      </div>\n      `}(t,a);e.innerHTML+=n});document.querySelectorAll("div.primaryPlaylist-book").forEach(t=>{var e;(e=t).addEventListener("mouseenter",()=>{g(e)}),e.addEventListener("mouseleave",()=>{!function(t){t.querySelector("div.bookInformation").classList.remove("is-active")}(e)})})}async function f(e,a){const n=e.querySelector("span"),i=e.querySelector("ul.playlistFriends-subItem");if(n.addEventListener("click",async()=>{if(0===a.length){e.dataset.id;const a=e.dataset.name,n=e.dataset.nicename;b=await t(""+n);const i=document.querySelector("#booksContainer"),s='\n      <div class="primaryPlaylist">\n        <div class="primaryPlaylist-list" id="action">\n          <img src="src/images/loader.gif" width="100" height="140" alt="loader" margin="0 auto">\n        </div>\n      </div>\n      ';i.innerHTML=s,v(b,i,""+a)}else i.classList.contains("is-active")?i.classList.remove("is-active"):i.classList.add("is-active")}),0!=a){i.querySelectorAll("li.playlistFriends-item").forEach(e=>{!async function(e){e.addEventListener("click",async()=>{e.dataset.id;const a=e.dataset.name,n=e.dataset.nicename;b=await t(""+n);const i=document.querySelector("#booksContainer");i.innerHTML='\n      <div class="primaryPlaylist">\n        <div class="primaryPlaylist-list" id="action">\n          <img src="src/images/loader.gif" width="100" height="140" alt="loader" margin="0 auto">\n        </div>\n      </div>\n      ',v(b,i,""+a)})}(e)})}}!function(t){t.addEventListener("click",()=>{const e={ID:a.dataset.id,category:a.dataset.category,title:n.textContent,cover:i.getAttribute("src")};"Agregar a favoritos"===t.textContent?(t.textContent="Eliminar de favoritos",u.push(e)):(t.textContent="Agregar a favoritos",function(t,e){for(var a=0;a<t.length;a++)t[a].ID===e.ID&&t.splice(a,1)}(u,e)),function(t){if(t){const e=document.querySelector("ul.sidebarPlaylist-favorites");e.innerHTML="",t.forEach(t=>{const a=function(t){return`\n      <li class="playlistFriends-item listFavorites"  data-id=${t.ID} data-category=${t.category}">\n        <a href="#${t.title}" >\n          <img class="imgList fadeIn" src=${t.cover} width="60" height="60" alt="${t.title}"></img>\n          <span>\n            ${t.title}\n          </span>\n        </a>\n      </li>\n      `}(t);e.innerHTML+=a})}const e=document.querySelectorAll("li.listFavorites");e&&e.forEach(t=>{t.addEventListener("click",async()=>{y(t)})})}(u)})}(m);const p="https://www.etnassoft.com/api/v1/get/";async function h(t){const e=await fetch(t);return await e.json()}let b=await t("libros_software_libre");const L=document.querySelector("#booksContainer");v(b,L,"Week");!function(t,e){t.forEach(t=>{const a=function(t){return`\n      <li class="playlistFriends-item" data-id=${t.category_id} data-name=${t.name} data-nicename=${t.nicename}>\n        <span>\n        ◆ ${t.name}\n        </span>\n        <ul class="playlistFriends-subItem"></ul>\n      </li>\n      `}(t);e.innerHTML+=a})}(await async function(t){const e=""+t;if(window.localStorage.getItem("listName"))return JSON.parse(window.localStorage.getItem("listName"));const a=await h(p+"?get_categories=all");return window.localStorage.setItem(e,JSON.stringify(a)),a}("list-category"),document.querySelector("#playlistFriends"));!async function(t){t.forEach(async t=>{const e=await async function(t){const e=t+"items";if(window.localStorage.getItem("listName"))return JSON.parse(window.localStorage.getItem("listName"));const a=await h(`${p}?get_subcategories_by_category_ID=${t}`);return window.localStorage.setItem(e,JSON.stringify(a)),a}(t.dataset.id),a=t.querySelector("ul.playlistFriends-subItem");e.forEach(t=>{const e=function(t){return`\n     <li class="playlistFriends-item" data-id=${t.subcategory_id} data-name=${t.name} data-nicename=${t.nicename}>\n       <span>\n       • ${t.name}\n       </span>\n     </li>\n     `}(t);a.innerHTML+=e}),f(t,e)})}(document.querySelectorAll("li.playlistFriends-item"));document.querySelectorAll("button.sidebarPlaylist-title-btn").forEach(t=>{t.addEventListener("click",()=>{const e=t.dataset.category;if("Categorias"===e){const t=document.querySelector("ul.playlistFriends");t.classList.contains("is-active")?(t.classList.remove("is-active"),t.classList.add("is-desactive")):(t.classList.add("is-active"),t.classList.remove("is-desactive"))}if("myBoks"===e){const t=document.querySelector("ul.sidebarPlaylist-favorites");t.classList.contains("is-active")?(t.classList.remove("is-active"),t.classList.add("is-desactive")):(t.classList.add("is-active"),t.classList.remove("is-desactive"))}})});document.querySelectorAll("a.linkNav").forEach(e=>{e.addEventListener("click",async()=>{const a=e.dataset.category,n=e.textContent;try{b=await t(a);const e='\n      <div class="primaryPlaylist">\n        <div class="primaryPlaylist-list" id="action">\n          <img src="src/images/loader.gif" width="100" height="140" alt="loader" margin="0 auto">\n        </div>\n      </div>\n      ';L.innerHTML=e,v(b,L,n)}catch(t){alert(t.message)}})});const w=document.getElementById("form");w.addEventListener("submit",async t=>{t.preventDefault();const e=new FormData(w);try{b=await h(`${p}?book_title="${e.get("name")}"&category=${e.get("name")}`);const t='\n      <div class="primaryPlaylist">\n        <div class="primaryPlaylist-list" id="action">\n          <img src="src/images/loader.gif" width="100" height="140" alt="loader" margin="0 auto">\n        </div>\n      </div>\n      ';L.innerHTML=t,v(b,L,"Resultados para "+e.get("name"))}catch(t){alert(t.message),S.classList.remove("search-active")}});document.querySelector("button.search-button ").addEventListener("click",async t=>{t.preventDefault();const e=new FormData(w);try{b=await h(`${p}?book_title="${e.get("name")}"&category=${e.get("name")}`);const t='\n      <div class="primaryPlaylist">\n        <div class="primaryPlaylist-list" id="action">\n          <img src="src/images/loader.gif" width="100" height="140" alt="loader" margin="0 auto">\n        </div>\n      </div>\n      ';L.innerHTML=t,v(b,L,"Resultados para "+e.get("name"))}catch(t){alert(t.message),S.classList.remove("search-active")}});const S=document.getElementById("home"),I=S.querySelector("div.home-sidebar"),$=S.querySelector("div.sidebar");document.querySelector("#burger-menu").addEventListener("click",(function(){$.classList.contains("show")?($.classList.remove("show"),I.classList.remove("maxWidth"),S.classList.remove("max"),$.classList.add("hide"),I.classList.add("minWidth"),S.classList.add("min")):(I.classList.remove("minWidth"),$.classList.remove("hide"),S.classList.remove("min"),$.classList.add("show"),I.classList.add("maxWidth"),S.classList.add("max"))}))}()}]);